import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import AsyncStorage from '@react-native-async-storage/async-storage';

const resources = {
  en: {
    translation: {
      app: { title: 'ReelMate' },
      tabs: { meta: 'Meta Videos', status: 'Status', history: 'History', downloaded: 'Downloaded' },
      drawer: {
        menu: 'Menu',
        settings: 'Settings',
        rate: 'Rate App',
        share: 'Share App',
        help: 'Help & Support',
        privacy: 'Privacy Policy',
        about: 'About',
        version: 'ReelMate v{{version}}',
        tagline: 'Made with â¤ï¸ by {{team}}',
        welcome: 'Welcome back!',
      },
      about: {
        title: 'About Us',
        missionTitle: 'Our Mission',
        missionText: 'ReelMate was created to simplify downloading and managing social videos with an intuitive and efficient experience.',
        teamTitle: 'Team',
        teamName: 'BlueSpark MZ',
        rights: 'Â© 2025 ReelMate. All rights reserved.',
        features: {
          downloadVideos: 'Download videos from Instagram, Facebook and TikTok',
          downloadManagement: 'Download management with full history',
          intuitiveInterface: 'Intuitive and modern interface',
          videoFormats: 'Support for multiple video formats',
          easySharing: 'Easy sharing to other platforms',
        },
      },
      status: {
        headerTitle: 'WhatsApp Status',
        headerSubtitle: 'Save WhatsApp statuses to your device',
        lastScanned: 'Last scanned: {{time}}',
        accessTitle: 'Allow access to Status',
        accessText: 'To list and save Status, grant access to WhatsApp\'s hidden .Statuses folder.',
        accessButton: 'Grant access to .Statuses folder',
        statsFolder: 'Status Folder',
        statsFound: 'Found {{count}} items in WhatsApp status folder',
        emptyTitle: 'No Statuses Found',
        emptyText: 'No WhatsApp statuses were found. Make sure WhatsApp is installed and you\'ve viewed some statuses recently.',
        download: 'Download',
        errorScan: 'Failed to scan WhatsApp statuses.',
      },
      downloaded: {
        headerTitle: 'Downloaded',
        headerSubtitle: 'Manage your downloaded videos',
        statsVideos: 'Videos',
        statsTotalSize: 'Total Size',
        filterBy: 'Filter by:',
        filterAll: 'All',
        filterVideos: 'Videos',
        filterFacebook: 'Facebook',
        filterInstagram: 'Instagram',
        emptyTitle: 'No Downloads Yet',
        emptyText: 'Your downloaded videos will appear here. Go to Meta Videos tab to start downloading!',
        clearAll: 'Clear All Downloads',
      },
      history: {
        headerTitle: 'Download History',
        headerSubtitle: 'Track all your video downloads and their status',
        filterBy: 'Filter by:',
        filterAll: 'All',
        filterCompleted: 'Completed',
        filterFailed: 'Failed',
        filterFacebook: 'Facebook',
        filterInstagram: 'Instagram',
        totalDownloads: 'Total Downloads',
        successful: 'Successful',
        failed: 'Failed',
        play: 'Play',
        emptyTitle: 'No history found',
        emptyTextAll: 'Start downloading videos to see your history here',
        emptyTextFilter: 'No {{filter}} downloads found',
        clearAll: 'Clear All History',
      },
      settings: {
        title: 'Settings',
        languageTitle: 'App Language',
        languageHelp: 'Select your preferred language for the app interface.',
      },
      actions: { close: 'Close', ok: 'OK' },
      dialogs: {
        ytBlockedTitle: 'Oops',
        ytBlockedText: "Sorry, we can't download YouTube videos ðŸ˜¢",
        loveTitle: 'Do you like ReelMate?',
        loveMessage: 'This app was made by a Mozambican developer team. The app is 100% free. You can help us by watching an ad or sending a tip via eMola: 860716912.',
      },
      meta: {
        headerTitle: 'Download Videos',
        headerSubtitle: 'Paste your Facebook or Instagram video URL below to download',
        inputPlaceholder: 'Paste Facebook or Instagram URL here...',
        getInfo: 'Get Video Info',
        fetching: 'Fetching...',
        chooseQuality: 'Choose Quality:',
        qualityBest: 'Best Quality',
        qualityMedium: 'Medium Quality',
        downloadButton: 'Download Video',
        howToUseTitle: 'How to use:',
        howToUseSteps: '1. Copy the video URL from Facebook or Instagram\n2. Paste it in the input field above\n3. Tap "Get Video Info" to fetch video details\n4. Choose your preferred quality\n5. Tap "Download Video" to save it to your device',
      },
    },
  },
  pt: {
    translation: {
      app: { title: 'ReelMate' },
      tabs: { meta: 'Meta VÃ­deos', status: 'Status', history: 'HistÃ³rico', downloaded: 'Baixados' },
      drawer: {
        menu: 'Menu',
        settings: 'ConfiguraÃ§Ãµes',
        rate: 'Avaliar o App',
        share: 'Compartilhar App',
        help: 'Ajuda & Suporte',
        privacy: 'PolÃ­tica de Privacidade',
        about: 'Sobre',
        version: 'ReelMate v{{version}}',
        tagline: 'Feito com â¤ï¸ por {{team}}',
        welcome: 'Bem-vindo de volta!',
      },
      about: {
        title: 'Sobre NÃ³s',
        missionTitle: 'Nossa MissÃ£o',
        missionText: 'O ReelMate foi criado para simplificar o download e o gerenciamento de vÃ­deos das redes sociais, com uma experiÃªncia intuitiva e eficiente.',
        teamTitle: 'Equipe',
        teamName: 'BlueSpark MZ',
        rights: 'Â© 2025 ReelMate. Todos os direitos reservados.',
        features: {
          downloadVideos: 'Download de vÃ­deos do Instagram, Facebook e TikTok',
          downloadManagement: 'Gerenciamento de downloads com histÃ³rico completo',
          intuitiveInterface: 'Interface intuitiva e moderna',
          videoFormats: 'Suporte para mÃºltiplos formatos de vÃ­deo',
          easySharing: 'Compartilhamento fÃ¡cil para outras plataformas',
        },
      },
      status: {
        headerTitle: 'WhatsApp Status',
        headerSubtitle: 'Salve status do WhatsApp no seu dispositivo',
        lastScanned: 'Ãšltima verificaÃ§Ã£o: {{time}}',
        accessTitle: 'Permitir acesso aos Status',
        accessText: 'Para listar e salvar os Status, conceda acesso Ã  pasta oculta .Statuses do WhatsApp.',
        accessButton: 'Conceder acesso Ã  pasta .Statuses',
        statsFolder: 'Pasta de Status',
        statsFound: 'Encontrados {{count}} itens na pasta de status do WhatsApp',
        emptyTitle: 'Nenhum Status Encontrado',
        emptyText: 'Nenhum status do WhatsApp foi encontrado. Verifique se o WhatsApp estÃ¡ instalado e se vocÃª visualizou alguns status recentemente.',
        download: 'Baixar',
        errorScan: 'Falha ao escanear status do WhatsApp.',
      },
      downloaded: {
        headerTitle: 'Baixados',
        headerSubtitle: 'Gerencie seus vÃ­deos baixados',
        statsVideos: 'VÃ­deos',
        statsTotalSize: 'Tamanho Total',
        filterBy: 'Filtrar por:',
        filterAll: 'Todos',
        filterVideos: 'VÃ­deos',
        filterFacebook: 'Facebook',
        filterInstagram: 'Instagram',
        emptyTitle: 'Ainda nÃ£o hÃ¡ downloads',
        emptyText: 'Seus vÃ­deos baixados aparecerÃ£o aqui. VÃ¡ atÃ© a aba Meta VÃ­deos para comeÃ§ar a baixar!',
        clearAll: 'Limpar Todos os Downloads',
      },
      history: {
        headerTitle: 'HistÃ³rico de Downloads',
        headerSubtitle: 'Acompanhe todos os seus downloads e seus status',
        filterBy: 'Filtrar por:',
        filterAll: 'Todos',
        filterCompleted: 'ConcluÃ­dos',
        filterFailed: 'Falhos',
        filterFacebook: 'Facebook',
        filterInstagram: 'Instagram',
        totalDownloads: 'Total de Downloads',
        successful: 'Bem-sucedidos',
        failed: 'Falhos',
        play: 'Reproduzir',
        emptyTitle: 'Nenhum histÃ³rico encontrado',
        emptyTextAll: 'Comece a baixar vÃ­deos para ver seu histÃ³rico aqui',
        emptyTextFilter: 'Nenhum download {{filter}} encontrado',
        clearAll: 'Limpar Todo o HistÃ³rico',
      },
      settings: {
        title: 'ConfiguraÃ§Ãµes',
        languageTitle: 'Idioma do App',
        languageHelp: 'Selecione o idioma preferido para a interface do aplicativo.',
      },
      actions: { close: 'Fechar', ok: 'OK' },
      dialogs: {
        ytBlockedTitle: 'Ops',
        ytBlockedText: 'Desculpa, nÃ£o podemos baixar vÃ­deos do YouTube ðŸ˜¢',
        loveTitle: 'Gostou do ReelMate?',
        loveMessage: 'Este app foi feito pela equipe de programadores moÃ§ambicanos. O app Ã© 100% free. VocÃª pode nos ajudar assistindo um anÃºncio ou enviando um valor via eMola: 860716912.',
      },
      meta: {
        headerTitle: 'Baixar VÃ­deos',
        headerSubtitle: 'Cole abaixo a URL do vÃ­deo do Facebook ou Instagram para baixar',
        inputPlaceholder: 'Cole aqui a URL do Facebook ou Instagram...',
        getInfo: 'Obter informaÃ§Ãµes',
        fetching: 'Buscando...',
        chooseQuality: 'Escolha a qualidade:',
        qualityBest: 'Melhor qualidade',
        qualityMedium: 'Qualidade mÃ©dia',
        downloadButton: 'Baixar vÃ­deo',
        howToUseTitle: 'Como usar:',
        howToUseSteps: '1. Copie a URL do vÃ­deo do Facebook ou Instagram\n2. Cole no campo acima\n3. Toque em "Obter informaÃ§Ãµes"\n4. Escolha a qualidade\n5. Toque em "Baixar vÃ­deo" para salvar no dispositivo',
      },
    },
  },
  es: {
    translation: {
      app: { title: 'ReelMate' },
      tabs: { meta: 'Meta Videos', status: 'Estados', history: 'Historial', downloaded: 'Descargados' },
      drawer: {
        menu: 'MenÃº',
        settings: 'Configuraciones',
        rate: 'Calificar App',
        share: 'Compartir App',
        help: 'Ayuda y Soporte',
        privacy: 'PolÃ­tica de Privacidad',
        about: 'Acerca de',
        version: 'ReelMate v{{version}}',
        tagline: 'Hecho con â¤ï¸ por {{team}}',
        welcome: 'Â¡Bienvenido de nuevo!',
      },
      about: {
        title: 'Sobre nosotros',
        missionTitle: 'Nuestra MisiÃ³n',
        missionText: 'ReelMate fue creado para simplificar la descarga y gestiÃ³n de videos sociales con una experiencia intuitiva y eficiente.',
        teamTitle: 'Equipo',
        teamName: 'BlueSpark MZ',
        rights: 'Â© 2025 ReelMate. Todos los derechos reservados.',
        features: {
          downloadVideos: 'Descarga videos de Instagram, Facebook y TikTok',
          downloadManagement: 'GestiÃ³n de descargas con historial completo',
          intuitiveInterface: 'Interfaz intuitiva y moderna',
          videoFormats: 'Soporte para mÃºltiples formatos de video',
          easySharing: 'Compartir fÃ¡cilmente a otras plataformas',
        },
      },
      status: {
        headerTitle: 'Estados de WhatsApp',
        headerSubtitle: 'Guarda estados de WhatsApp en tu dispositivo',
        lastScanned: 'Ãšltima revisiÃ³n: {{time}}',
        accessTitle: 'Permitir acceso a Estados',
        accessText: 'Para listar y guardar, concede acceso a la carpeta oculta .Statuses de WhatsApp.',
        accessButton: 'Conceder acceso a la carpeta .Statuses',
        statsFolder: 'Carpeta de Estados',
        statsFound: 'Se encontraron {{count}} elementos en la carpeta de estados',
        emptyTitle: 'No se encontraron Estados',
        emptyText: 'No se encontraron estados de WhatsApp. AsegÃºrate de tener WhatsApp instalado y de haber visto algunos estados recientemente.',
        download: 'Descargar',
        errorScan: 'Error al escanear estados de WhatsApp.',
      },
      downloaded: {
        headerTitle: 'Descargados',
        headerSubtitle: 'Administra tus videos descargados',
        statsVideos: 'Videos',
        statsTotalSize: 'TamaÃ±o Total',
        filterBy: 'Filtrar por:',
        filterAll: 'Todos',
        filterVideos: 'Videos',
        filterFacebook: 'Facebook',
        filterInstagram: 'Instagram',
        emptyTitle: 'AÃºn no hay descargas',
        emptyText: 'Tus videos descargados aparecerÃ¡n aquÃ­. Â¡Ve a la pestaÃ±a Meta Videos para empezar a descargar!',
        clearAll: 'Borrar Todas las Descargas',
      },
      history: {
        headerTitle: 'Historial de Descargas',
        headerSubtitle: 'Sigue todas tus descargas y su estado',
        filterBy: 'Filtrar por:',
        filterAll: 'Todos',
        filterCompleted: 'Completados',
        filterFailed: 'Fallidos',
        filterFacebook: 'Facebook',
        filterInstagram: 'Instagram',
        totalDownloads: 'Descargas Totales',
        successful: 'Exitosos',
        failed: 'Fallidos',
        play: 'Reproducir',
        emptyTitle: 'No se encontrÃ³ historial',
        emptyTextAll: 'Comienza a descargar videos para ver tu historial aquÃ­',
        emptyTextFilter: 'No se encontraron descargas {{filter}}',
        clearAll: 'Borrar Todo el Historial',
      },
      settings: {
        title: 'Configuraciones',
        languageTitle: 'Idioma de la App',
        languageHelp: 'Seleccione su idioma preferido para la interfaz.',
      },
      actions: { close: 'Cerrar', ok: 'OK' },
      dialogs: {
        ytBlockedTitle: 'Ups',
        ytBlockedText: 'Lo sentimos, no podemos descargar videos de YouTube ðŸ˜¢',
        loveTitle: 'Â¿Te gusta ReelMate?',
        loveMessage: 'Esta app fue creada por un equipo de desarrolladores mozambiqueÃ±os. La app es 100% gratis. Puedes ayudarnos viendo un anuncio o enviando una propina por eMola: 860716912.',
      },
      meta: {
        headerTitle: 'Descargar videos',
        headerSubtitle: 'Pega la URL del video de Facebook o Instagram para descargar',
        inputPlaceholder: 'Pega aquÃ­ la URL de Facebook o Instagram...',
        getInfo: 'Obtener informaciÃ³n',
        fetching: 'Cargando...',
        chooseQuality: 'Elige la calidad:',
        qualityBest: 'Mejor calidad',
        qualityMedium: 'Calidad media',
        downloadButton: 'Descargar video',
        howToUseTitle: 'CÃ³mo usar:',
        howToUseSteps: '1. Copia la URL del video de Facebook o Instagram\n2. PÃ©gala en el campo arriba\n3. Toca "Obtener informaciÃ³n"\n4. Elige la calidad\n5. Toca "Descargar video" para guardarlo',
      },
    },
  },
  fr: {
    translation: {
      app: { title: 'ReelMate' },
      tabs: { meta: 'VidÃ©os Meta', status: 'Statuts', history: 'Historique', downloaded: 'TÃ©lÃ©chargÃ©s' },
      drawer: {
        menu: 'Menu',
        settings: 'ParamÃ¨tres',
        rate: "Noter l'application",
        share: "Partager l'application",
        help: 'Aide et Support',
        privacy: 'Politique de ConfidentialitÃ©',
        about: 'Ã€ propos',
        version: 'ReelMate v{{version}}',
        tagline: 'Fait avec â¤ï¸ par {{team}}',
        welcome: 'Bon retour !',
      },
      about: {
        title: 'Ã€ propos de nous',
        missionTitle: 'Notre Mission',
        missionText: 
          "ReelMate a Ã©tÃ© crÃ©Ã© pour simplifier le tÃ©lÃ©chargement et la gestion des vidÃ©os sociales, avec une expÃ©rience intuitive et efficace.",
        teamTitle: 'Ã‰quipe',
        teamName: 'BlueSpark MZ',
        rights: 'Â© 2025 ReelMate. Tous droits rÃ©servÃ©s.',
        features: {
          downloadVideos: "TÃ©lÃ©charger des vidÃ©os depuis Instagram, Facebook et TikTok",
          downloadManagement: 'Gestion des tÃ©lÃ©chargements avec historique complet',
          intuitiveInterface: 'Interface intuitive et moderne',
          videoFormats: 'Prise en charge de plusieurs formats vidÃ©o',
          easySharing: 'Partage facile vers dâ€™autres plateformes',
        },
      },
      status: {
        headerTitle: 'Statuts WhatsApp',
        headerSubtitle: 'Enregistrez les statuts WhatsApp sur votre appareil',
        lastScanned: 'Dernier scan : {{time}}',
        accessTitle: "Autoriser l'accÃ¨s aux Statuts",
        accessText: "Pour lister et enregistrer, accordez l'accÃ¨s au dossier cachÃ© .Statuses de WhatsApp.",
        accessButton: "Accorder l'accÃ¨s au dossier .Statuses",
        statsFolder: 'Dossier Statuts',
        statsFound: 'TrouvÃ© {{count}} Ã©lÃ©ments dans le dossier des statuts WhatsApp',
        emptyTitle: 'Aucun statut trouvÃ©',
        emptyText: "Aucun statut WhatsApp trouvÃ©. Assurez-vous que WhatsApp est installÃ© et que vous avez consultÃ© des statuts rÃ©cemment.",
        download: 'TÃ©lÃ©charger',
        errorScan: 'Ã‰chec de l\'analyse des statuts WhatsApp.',
      },
      downloaded: {
        headerTitle: 'TÃ©lÃ©chargÃ©s',
        headerSubtitle: 'GÃ©rez vos vidÃ©os tÃ©lÃ©chargÃ©es',
        statsVideos: 'VidÃ©os',
        statsTotalSize: 'Taille Totale',
        filterBy: 'Filtrer par :',
        filterAll: 'Tous',
        filterVideos: 'VidÃ©os',
        filterFacebook: 'Facebook',
        filterInstagram: 'Instagram',
        emptyTitle: "Pas encore de tÃ©lÃ©chargements",
        emptyText: "Vos vidÃ©os tÃ©lÃ©chargÃ©es apparaÃ®tront ici. Allez dans l'onglet VidÃ©os Meta pour commencer !",
        clearAll: 'Tout supprimer',
      },
      history: {
        headerTitle: 'Historique des tÃ©lÃ©chargements',
        headerSubtitle: 'Suivez tous vos tÃ©lÃ©chargements et leur statut',
        filterBy: 'Filtrer par :',
        filterAll: 'Tous',
        filterCompleted: 'TerminÃ©s',
        filterFailed: 'Ã‰chouÃ©s',
        filterFacebook: 'Facebook',
        filterInstagram: 'Instagram',
        totalDownloads: 'TÃ©lÃ©chargements Totals',
        successful: 'RÃ©ussis',
        failed: 'Ã‰chouÃ©s',
        play: 'Lire',
        emptyTitle: 'Aucun historique trouvÃ©',
        emptyTextAll: 'Commencez Ã  tÃ©lÃ©charger des vidÃ©os pour voir votre historique ici',
        emptyTextFilter: 'Aucun tÃ©lÃ©chargement {{filter}} trouvÃ©',
        clearAll: "Tout l'historique",
      },
      settings: {
        title: "ParamÃ¨tres",
        languageTitle: "Langue de l'application",
        languageHelp: 
          "SÃ©lectionnez la langue prÃ©fÃ©rÃ©e pour l'interface de l'application.",
      },
      actions: { close: 'Fermer', ok: 'OK' },
      dialogs: {
        ytBlockedTitle: 'Oups',
        ytBlockedText: "DÃ©solÃ©, nous ne pouvons pas tÃ©lÃ©charger des vidÃ©os YouTube ðŸ˜¢",
        loveTitle: 'Vous aimez ReelMate ?',
        loveMessage: "Cette application a Ã©tÃ© crÃ©Ã©e par une Ã©quipe de dÃ©veloppeurs mozambicains. L'application est 100% gratuite. Vous pouvez nous aider en regardant une publicitÃ© ou en envoyant un pourboire via eMola : 860716912.",
      },
      meta: {
        headerTitle: 'TÃ©lÃ©charger des vidÃ©os',
        headerSubtitle: 'Collez ci-dessous lâ€™URL de la vidÃ©o Facebook ou Instagram pour tÃ©lÃ©charger',
        inputPlaceholder: 'Collez ici lâ€™URL Facebook ou Instagram...',
        getInfo: 'Obtenir les infos',
        fetching: 'Chargement...',
        chooseQuality: 'Choisir la qualitÃ© :',
        qualityBest: 'Meilleure qualitÃ©',
        qualityMedium: 'QualitÃ© moyenne',
        downloadButton: 'TÃ©lÃ©charger la vidÃ©o',
        howToUseTitle: 'Comment utiliser :',
        howToUseSteps: '1. Copiez lâ€™URL de la vidÃ©o Facebook ou Instagram\n2. Collez-la dans le champ ci-dessus\n3. Touchez Â« Obtenir les infos Â»\n4. Choisissez la qualitÃ©\n5. Touchez Â« TÃ©lÃ©charger la vidÃ©o Â» pour enregistrer',
      },
    },
  },
} as const;

void i18n.use(initReactI18next).init({
  resources,
  fallbackLng: 'en',
  lng: 'en',
  interpolation: { escapeValue: false },
  react: { useSuspense: false },
  returnNull: false,
});

(async () => {
  try {
    const stored = await AsyncStorage.getItem('app_language');
    if (stored) await i18n.changeLanguage(stored);
  } catch {}
})();

export default i18n;
