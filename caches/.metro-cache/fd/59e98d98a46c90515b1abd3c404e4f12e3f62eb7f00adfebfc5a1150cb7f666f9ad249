{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":61,"index":61}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"]}},{"name":"./NativeVideoModule","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":62},"end":{"line":2,"column":52,"index":114}}],"key":"cl3kboQ0ImYt6XdlKY44aN3EghU=","exportNames":["*"]}},{"name":"./resolveAssetSource","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":115},"end":{"line":3,"column":54,"index":169}}],"key":"qiXdfzfF08Pne6HL41q9H4FDwsA=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.createVideoPlayer = createVideoPlayer;\n  exports.useVideoPlayer = useVideoPlayer;\n  var _expoModulesCore = require(_dependencyMap[1], \"expo-modules-core\");\n  var _NativeVideoModule = _interopRequireDefault(require(_dependencyMap[2], \"./NativeVideoModule\"));\n  var _resolveAssetSource = _interopRequireDefault(require(_dependencyMap[3], \"./resolveAssetSource\"));\n  // TODO: Temporary solution until we develop a way of overriding prototypes that won't break the lazy loading of the module.\n  var replace = _NativeVideoModule.default.VideoPlayer.prototype.replace;\n  _NativeVideoModule.default.VideoPlayer.prototype.replace = function (source) {\n    var disableWarning = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    if (!disableWarning) {\n      console.warn('On iOS `VideoPlayer.replace` loads the asset data synchronously on the main thread, which can lead to UI freezes and will be deprecated in a future release. Switch to `replaceAsync` for better user experience.');\n    }\n    return replace.call(this, parseSource(source));\n  };\n  var replaceAsync = _NativeVideoModule.default.VideoPlayer.prototype.replaceAsync;\n  _NativeVideoModule.default.VideoPlayer.prototype.replaceAsync = function (source) {\n    return replaceAsync.call(this, parseSource(source));\n  };\n  /**\n   * Creates a direct instance of `VideoPlayer` that doesn't release automatically.\n   *\n   * > **info** For most use cases you should use the [`useVideoPlayer`](#usevideoplayer) hook instead. See the [Using the VideoPlayer Directly](#using-the-videoplayer-directly) section for more details.\n   * @param source\n   */\n  function createVideoPlayer(source) {\n    return new _NativeVideoModule.default.VideoPlayer(parseSource(source));\n  }\n  /**\n   * Creates a `VideoPlayer`, which will be automatically cleaned up when the component is unmounted.\n   * @param source - A video source that is used to initialize the player.\n   * @param setup - A function that allows setting up the player. It will run after the player is created.\n   */\n  function useVideoPlayer(source, setup) {\n    var parsedSource = parseSource(source);\n    return (0, _expoModulesCore.useReleasingSharedObject)(() => {\n      var player = new _NativeVideoModule.default.VideoPlayer(parsedSource);\n      setup?.(player);\n      return player;\n    }, [JSON.stringify(parsedSource)]);\n  }\n  function parseSource(source) {\n    if (typeof source === 'number') {\n      // TODO(@kitten): This seems to not handle the `null` case. Is this correct?\n      return {\n        uri: (0, _resolveAssetSource.default)(source).uri\n      };\n    } else if (typeof source === 'string') {\n      return {\n        uri: source\n      };\n    }\n    if (typeof source?.assetId === 'number' && !source.uri) {\n      // TODO(@kitten): This seems to not handle the `null` case. Is this correct?\n      return {\n        ...source,\n        uri: (0, _resolveAssetSource.default)(source.assetId).uri\n      };\n    }\n    return source;\n  }\n});","lineCount":66,"map":[[8,2,1,0],[8,6,1,0,"_expoModulesCore"],[8,22,1,0],[8,25,1,0,"require"],[8,32,1,0],[8,33,1,0,"_dependencyMap"],[8,47,1,0],[9,2,2,0],[9,6,2,0,"_NativeVideoModule"],[9,24,2,0],[9,27,2,0,"_interopRequireDefault"],[9,49,2,0],[9,50,2,0,"require"],[9,57,2,0],[9,58,2,0,"_dependencyMap"],[9,72,2,0],[10,2,3,0],[10,6,3,0,"_resolveAssetSource"],[10,25,3,0],[10,28,3,0,"_interopRequireDefault"],[10,50,3,0],[10,51,3,0,"require"],[10,58,3,0],[10,59,3,0,"_dependencyMap"],[10,73,3,0],[11,2,4,0],[12,2,5,0],[12,6,5,6,"replace"],[12,13,5,13],[12,16,5,16,"NativeVideoModule"],[12,42,5,33],[12,43,5,34,"VideoPlayer"],[12,54,5,45],[12,55,5,46,"prototype"],[12,64,5,55],[12,65,5,56,"replace"],[12,72,5,63],[13,2,6,0,"NativeVideoModule"],[13,28,6,17],[13,29,6,18,"VideoPlayer"],[13,40,6,29],[13,41,6,30,"prototype"],[13,50,6,39],[13,51,6,40,"replace"],[13,58,6,47],[13,61,6,50],[13,71,6,60,"source"],[13,77,6,66],[13,79,6,92],[14,4,6,92],[14,8,6,68,"disableWarning"],[14,22,6,82],[14,25,6,82,"arguments"],[14,34,6,82],[14,35,6,82,"length"],[14,41,6,82],[14,49,6,82,"arguments"],[14,58,6,82],[14,66,6,82,"undefined"],[14,75,6,82],[14,78,6,82,"arguments"],[14,87,6,82],[14,93,6,85],[14,98,6,90],[15,4,7,4],[15,8,7,8],[15,9,7,9,"disableWarning"],[15,23,7,23],[15,25,7,25],[16,6,8,8,"console"],[16,13,8,15],[16,14,8,16,"warn"],[16,18,8,20],[16,19,8,21],[16,230,8,232],[16,231,8,233],[17,4,9,4],[18,4,10,4],[18,11,10,11,"replace"],[18,18,10,18],[18,19,10,19,"call"],[18,23,10,23],[18,24,10,24],[18,28,10,28],[18,30,10,30,"parseSource"],[18,41,10,41],[18,42,10,42,"source"],[18,48,10,48],[18,49,10,49],[18,50,10,50],[19,2,11,0],[19,3,11,1],[20,2,12,0],[20,6,12,6,"replaceAsync"],[20,18,12,18],[20,21,12,21,"NativeVideoModule"],[20,47,12,38],[20,48,12,39,"VideoPlayer"],[20,59,12,50],[20,60,12,51,"prototype"],[20,69,12,60],[20,70,12,61,"replaceAsync"],[20,82,12,73],[21,2,13,0,"NativeVideoModule"],[21,28,13,17],[21,29,13,18,"VideoPlayer"],[21,40,13,29],[21,41,13,30,"prototype"],[21,50,13,39],[21,51,13,40,"replaceAsync"],[21,63,13,52],[21,66,13,55],[21,76,13,65,"source"],[21,82,13,71],[21,84,13,73],[22,4,14,4],[22,11,14,11,"replaceAsync"],[22,23,14,23],[22,24,14,24,"call"],[22,28,14,28],[22,29,14,29],[22,33,14,33],[22,35,14,35,"parseSource"],[22,46,14,46],[22,47,14,47,"source"],[22,53,14,53],[22,54,14,54],[22,55,14,55],[23,2,15,0],[23,3,15,1],[24,2,16,0],[25,0,17,0],[26,0,18,0],[27,0,19,0],[28,0,20,0],[29,0,21,0],[30,2,22,7],[30,11,22,16,"createVideoPlayer"],[30,28,22,33,"createVideoPlayer"],[30,29,22,34,"source"],[30,35,22,40],[30,37,22,42],[31,4,23,4],[31,11,23,11],[31,15,23,15,"NativeVideoModule"],[31,41,23,32],[31,42,23,33,"VideoPlayer"],[31,53,23,44],[31,54,23,45,"parseSource"],[31,65,23,56],[31,66,23,57,"source"],[31,72,23,63],[31,73,23,64],[31,74,23,65],[32,2,24,0],[33,2,25,0],[34,0,26,0],[35,0,27,0],[36,0,28,0],[37,0,29,0],[38,2,30,7],[38,11,30,16,"useVideoPlayer"],[38,25,30,30,"useVideoPlayer"],[38,26,30,31,"source"],[38,32,30,37],[38,34,30,39,"setup"],[38,39,30,44],[38,41,30,46],[39,4,31,4],[39,8,31,10,"parsedSource"],[39,20,31,22],[39,23,31,25,"parseSource"],[39,34,31,36],[39,35,31,37,"source"],[39,41,31,43],[39,42,31,44],[40,4,32,4],[40,11,32,11],[40,15,32,11,"useReleasingSharedObject"],[40,56,32,35],[40,58,32,36],[40,64,32,42],[41,6,33,8],[41,10,33,14,"player"],[41,16,33,20],[41,19,33,23],[41,23,33,27,"NativeVideoModule"],[41,49,33,44],[41,50,33,45,"VideoPlayer"],[41,61,33,56],[41,62,33,57,"parsedSource"],[41,74,33,69],[41,75,33,70],[42,6,34,8,"setup"],[42,11,34,13],[42,14,34,16,"player"],[42,20,34,22],[42,21,34,23],[43,6,35,8],[43,13,35,15,"player"],[43,19,35,21],[44,4,36,4],[44,5,36,5],[44,7,36,7],[44,8,36,8,"JSON"],[44,12,36,12],[44,13,36,13,"stringify"],[44,22,36,22],[44,23,36,23,"parsedSource"],[44,35,36,35],[44,36,36,36],[44,37,36,37],[44,38,36,38],[45,2,37,0],[46,2,38,0],[46,11,38,9,"parseSource"],[46,22,38,20,"parseSource"],[46,23,38,21,"source"],[46,29,38,27],[46,31,38,29],[47,4,39,4],[47,8,39,8],[47,15,39,15,"source"],[47,21,39,21],[47,26,39,26],[47,34,39,34],[47,36,39,36],[48,6,40,8],[49,6,41,8],[49,13,41,15],[50,8,41,17,"uri"],[50,11,41,20],[50,13,41,22],[50,17,41,22,"resolveAssetSource"],[50,44,41,40],[50,46,41,41,"source"],[50,52,41,47],[50,53,41,48],[50,54,41,49,"uri"],[51,6,41,53],[51,7,41,54],[52,4,42,4],[52,5,42,5],[52,11,43,9],[52,15,43,13],[52,22,43,20,"source"],[52,28,43,26],[52,33,43,31],[52,41,43,39],[52,43,43,41],[53,6,44,8],[53,13,44,15],[54,8,44,17,"uri"],[54,11,44,20],[54,13,44,22,"source"],[55,6,44,29],[55,7,44,30],[56,4,45,4],[57,4,46,4],[57,8,46,8],[57,15,46,15,"source"],[57,21,46,21],[57,23,46,23,"assetId"],[57,30,46,30],[57,35,46,35],[57,43,46,43],[57,47,46,47],[57,48,46,48,"source"],[57,54,46,54],[57,55,46,55,"uri"],[57,58,46,58],[57,60,46,60],[58,6,47,8],[59,6,48,8],[59,13,48,15],[60,8,48,17],[60,11,48,20,"source"],[60,17,48,26],[61,8,48,28,"uri"],[61,11,48,31],[61,13,48,33],[61,17,48,33,"resolveAssetSource"],[61,44,48,51],[61,46,48,52,"source"],[61,52,48,58],[61,53,48,59,"assetId"],[61,60,48,66],[61,61,48,67],[61,62,48,68,"uri"],[62,6,48,72],[62,7,48,73],[63,4,49,4],[64,4,50,4],[64,11,50,11,"source"],[64,17,50,17],[65,2,51,0],[66,0,51,1],[66,3]],"functionMap":{"names":["<global>","NativeVideoModule.VideoPlayer.prototype.replace","NativeVideoModule.VideoPlayer.prototype.replaceAsync","createVideoPlayer","useVideoPlayer","useReleasingSharedObject$argument_0","parseSource"],"mappings":"AAA;kDCK;CDK;uDEE;CFE;OGO;CHE;OIM;oCCE;KDI;CJC;AMC;CNa"}},"type":"js/module"}]}